<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DON'T LOOK AT ME | Vivian Lu</title>
    <link rel="stylesheet" href="work-style.css">
    <style>
    /* 强制填满容器，消除白边 */
    .force-sync {
        width: 75vw !important; 
        height: 55vh !important;
        object-fit: cover !important; /* 核心：cover 会裁剪并填满，消除白边 */
    }
    
    /* 7号竖图：保持比例，不拉伸 */
    .natural-size {
        width: auto !important;
        height: auto !important;
        max-height: 55vh !important;
        object-fit: contain !important;
    }
</style>
</head>
<body>

    <nav class="top-right-nav-work">
        <a href="about.html" class="nav-item-work">ABOUT</a>
        <a href="contact.html" class="nav-item-work">CONTACT</a>
    </nav>
    
    <a href="index.html" class="back-home">Close</a>

    <div class="main-content">
        <div class="media-container">
            <video id="main-video" class="work-media force-sync" loop playsinline controls controlsList="nodownload" oncontextmenu="return false;">
            <source src="dont_look_at_me/1.MP4" type="video/mp4">
        </video>
            
            <img id="main-image" src="" alt="Work Gallery" class="work-media" style="display: none;">
            
            <div class="slider-controls">
                <span class="arrow prev" onclick="changeMedia(-1)"> < </span>
                <span id="page-indicator" class="page-indicator">1/8</span>
                <span class="arrow next" onclick="changeMedia(1)"> > </span>
            </div>
        </div>

        <footer class="work-footer">
            <div class="footer-left">
                <p class="work-title">DON'T LOOK AT ME</p>
                <div class="work-details">
                    <p>2025</p>
                    <p>Interactive Installation</p>
                    <p>Wax, robotic arm, heat gun, camera, mix material</p>
                    <p>150 x 150 x 250cm</p>
                </div>
            </div>
            <div class="footer-right">
                <a href="gaze-context.html" class="context-link">CONTEXT</a>
            </div>
        </footer>
    </div>

<script>
    let currentIndex = 1;
    const totalMedia = 8;
    const folder = "dont_look_at_me/"; // 使用你改好的新路径

    const videoEl = document.getElementById('main-video');
    const imageEl = document.getElementById('main-image');
    const indicator = document.getElementById('page-indicator');

    function changeMedia(direction) {
        currentIndex += direction;
        if (currentIndex < 1) currentIndex = totalMedia;
        if (currentIndex > totalMedia) currentIndex = 1;

        indicator.innerText = currentIndex + "/8";

        if (currentIndex === 1) {
            imageEl.style.display = "none";
            videoEl.style.display = "block";
            videoEl.play().catch(e => {});
        } else {
            videoEl.pause();
            videoEl.style.display = "none";
            imageEl.style.display = "block";
            imageEl.src = folder + currentIndex + ".png";

            // 先移除旧状态
            imageEl.classList.remove('force-sync', 'natural-size');

            if (currentIndex === 7) {
                // 7号图特殊对待
                imageEl.classList.add('natural-size');
            } else {
                // 2,3,4,5,6 和 8号全部强制填满
                imageEl.classList.add('force-sync');
            }
        }
    }

    // 初始交互激活视频
    window.addEventListener('click', () => {
        if (currentIndex === 1 && videoEl.paused) videoEl.play();
    }, { once: true });
</script>

</body>
</html>